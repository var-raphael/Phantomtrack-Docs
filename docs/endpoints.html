<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>API Endpoints - PhantomTrack</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <style>
        * {
            box-sizing: border-box;
        }
        
        html, body {
            overflow-x: hidden;
            max-width: 100vw;
        }
        
        .docs-container {
            display: flex;
            min-height: 100vh;
            padding-top: 70px;
            overflow-x: hidden;
        }

        .sidebar {
            width: 280px;
            background: var(--card);
            backdrop-filter: blur(10px);
            border-right: 1px solid var(--border);
            position: fixed;
            left: 0;
            top: 70px;
            bottom: 0;
            overflow-y: auto;
            padding: 24px;
            transition: transform 0.3s ease;
        }

        .sidebar-toggle {
            display: none;
            position: fixed;
            left: 20px;
            bottom: 20px;
            z-index: 999;
            background: linear-gradient(135deg, var(--accent1), var(--accent2));
            color: #FFFFFF;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-title {
            color: var(--text);
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            opacity: 0.6;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            color: var(--text);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.2s ease;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .nav-item:hover {
            background: var(--hover);
            color: var(--accent1);
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--accent1), var(--accent2));
            color: #FFFFFF;
        }

        .nav-item i {
            font-size: 16px;
            width: 20px;
        }

        .docs-content {
            flex: 1;
            margin-left: 280px;
            padding: 40px;
            max-width: 900px;
            width: 100%;
            overflow-x: hidden;
        }

        .docs-header {
            margin-bottom: 40px;
        }

        .docs-header h1 {
            font-size: 42px;
            margin-bottom: 12px;
        }

        .docs-header p {
            font-size: 18px;
            color: var(--text);
            opacity: 0.7;
            line-height: 1.6;
        }

        .content-card {
            background: var(--card);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 32px;
            margin-bottom: 32px;
        }

        .content-card h2 {
            color: var(--text);
            font-size: 24px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .content-card h2 i {
            color: var(--accent1);
        }

        .content-card p {
            color: var(--text);
            opacity: 0.8;
            line-height: 1.7;
            margin-bottom: 20px;
        }

        .content-card h3 {
            color: var(--text);
            font-size: 18px;
            margin: 24px 0 12px 0;
            font-weight: 600;
        }

        .content-card ul {
            color: var(--text);
            opacity: 0.8;
            line-height: 2;
            margin-left: 20px;
        }

        .content-card code {
            background: rgba(99, 102, 241, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }

        .alert {
            background: rgba(99, 102, 241, 0.1);
            border-left: 4px solid var(--accent1);
            padding: 16px 20px;
            border-radius: 8px;
            margin: 24px 0;
        }

        .alert-warning {
            background: rgba(251, 191, 36, 0.1);
            border-left-color: #fbbf24;
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border-left-color: #10b981;
        }

        .alert p {
            margin: 0;
            color: var(--text);
            opacity: 0.9;
        }

        .alert i {
            margin-right: 8px;
            color: var(--accent1);
        }

        .alert-warning i {
            color: #fbbf24;
        }

        .alert-success i {
            color: #10b981;
        }

        .code-wrapper {
            position: relative;
            margin: 20px 0;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .code-wrapper pre {
            margin: 0;
            padding: 16px;
            overflow-x: auto;
            border-radius: 8px;
            max-width: 100%;
        }
        
        .code-wrapper code {
            font-size: 14px;
            line-height: 1.6;
            font-family: 'Courier New', Courier, monospace;
        }

        .copy-button {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #FFFFFF;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .copy-button:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .endpoint-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 700;
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            margin-bottom: 12px;
        }

        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .params-table th,
        .params-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .params-table th {
            background: var(--hover);
            font-weight: 600;
            color: var(--text);
            font-size: 14px;
        }

        .params-table td {
            color: var(--text);
            opacity: 0.8;
            font-size: 14px;
        }

        .params-table code {
            background: rgba(99, 102, 241, 0.15);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 13px;
        }

        .required {
            color: #ef4444;
            font-weight: 600;
        }

        .optional {
            color: #10b981;
            font-weight: 600;
        }

        @media (max-width: 968px) {
            .sidebar {
                transform: translateX(-100%);
                z-index: 1000;
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .sidebar-toggle {
                display: block;
            }

            .docs-content {
                margin-left: 0;
                padding: 24px 16px;
            }

            .docs-header h1 {
                font-size: 32px;
            }

            .content-card {
                padding: 24px 16px;
            }
            
            .code-wrapper pre {
                padding: 12px;
            }

            .params-table {
                font-size: 12px;
            }

            .params-table th,
            .params-table td {
                padding: 8px;
            }
        }
        
        
        .table-wrapper {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin: 20px 0;
}

.params-table {
    width: 100%;
    min-width: 600px; /* Prevents crushing */
    border-collapse: collapse;
    margin: 0;
}

/* On very small screens, make tables fully responsive */
@media (max-width: 600px) {
    .params-table {
        min-width: 100%;
        font-size: 13px;
    }
    
    .params-table th,
    .params-table td {
        padding: 8px 6px;
        font-size: 12px;
    }
    
    .params-table code {
        font-size: 11px;
        padding: 2px 4px;
    }
    
    /* Stack table on tiny screens */
    .params-table.stack-mobile thead {
        display: none;
    }
    
    .params-table.stack-mobile tr {
        display: block;
        margin-bottom: 16px;
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 12px;
    }
    
    .params-table.stack-mobile td {
        display: block;
        text-align: left;
        padding: 8px 0;
        border: none;
    }
    
    .params-table.stack-mobile td:before {
        content: attr(data-label);
        font-weight: 600;
        display: block;
        margin-bottom: 4px;
        color: var(--accent1);
    }
}
    </style>
</head>
<body data-theme="dark">

    <div class="header">
        <div class="header-content">
            <h1><i class="fas fa-book"></i> PhantomTrack Docs</h1>
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                <span id="themeIcon"></span>
            </button>
        </div>
    </div>

    <button class="sidebar-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <div class="docs-container">
        <nav class="sidebar" id="sidebar">
            <div class="nav-section">
                <div class="nav-title">Getting Started</div>
                <a href="index.html" class="nav-item">
                    <i class="fas fa-home"></i>
                    <span>Overview</span>
                </a>
                <a href="quickstart.html" class="nav-item">
                    <i class="fas fa-rocket"></i>
                    <span>Quick Start</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-title">Features</div>
                
                <a href="custom-events.html" class="nav-item">
                    <i class="fas fa-mouse-pointer"></i>
                    <span>Custom Events</span>
                </a>
                <a href="export.html" class="nav-item">
                    <i class="fas fa-download"></i>
                    <span>Export Options</span>
                </a>
                <a href="api.html" class="nav-item">
                    <i class="fas fa-code"></i>
                    <span>API Access</span>
                </a>
                <a href="iframe.html" class="nav-item">
                    <i class="fas fa-window-maximize"></i>
                    <span>Embed Iframe</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-title">API Documentation</div>
                <a href="authentication.html" class="nav-item">
                    <i class="fas fa-key"></i>
                    <span>Authentication</span>
                </a>
                <a href="endpoints.html" class="nav-item active">
                    <i class="fas fa-plug"></i>
                    <span>Endpoints</span>
                </a>
            </div>
            
            <div class="nav-section">
                <div class="nav-title">Help & Support</div>
                <a href="support.html" class="nav-item">
                    <i class="fas fa-life-ring"></i>
                    <span>Get Support</span>
                </a>
                
                <a href="hire-me.html" class="nav-item">
                    <i class="fas fa-briefcase"></i>
                    <span>Hire Me</span>
                </a>
            </div>
        </nav>

        <main class="docs-content">
            <div class="docs-header">
                <h1><i class="fas fa-plug"></i> API Endpoints</h1>
                <p>Complete reference for all PhantomTrack API endpoints</p>
            </div>

            <div class="content-card">
                <h2><i class="fas fa-info-circle"></i> Base URL</h2>
                <p>All API requests should be made to:</p>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'https://phantomtrack.xyz/api/analytics')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>https://phantomtrack.xyz/api/analytics</code></pre>
                </div>

                <h3>Common Parameters</h3>
                <p>These parameters work with all endpoints:</p>
			<div class="table-wrapper">
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Required</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>endpoint</code></td>
                            <td>string</td>
                            <td><span class="required">Required</span></td>
                            <td>The endpoint to access (stats, pages, referrers, etc.)</td>
                        </tr>
                        <tr>
                            <td><code>period</code></td>
                            <td>string</td>
                            <td><span class="optional">Optional</span></td>
                            <td>Time period: <code>7d</code>, <code>30d</code>, <code>90d</code>, <code>1y</code> (default: 30d)</td>
                        </tr>
                        <tr>
                            <td><code>start_date</code></td>
                            <td>date</td>
                            <td><span class="optional">Optional</span></td>
                            <td>Custom start date (YYYY-MM-DD). Overrides period.</td>
                        </tr>
                        <tr>
                            <td><code>end_date</code></td>
                            <td>date</td>
                            <td><span class="optional">Optional</span></td>
                            <td>Custom end date (YYYY-MM-DD). Overrides period.</td>
                        </tr>
                    </tbody>
                </table>
               </div>
                
               <h3>Using Custom Date Ranges</h3>
<p>Override the <code>period</code> parameter by providing both <code>start_date</code> and <code>end_date</code>:</p>

<div class="code-wrapper">
    <button class="copy-button" onclick="copyCode(this, 'curl -H \'X-API-KEY: sk_test_your_key_here\' \\\n  \'https://phantomtrack.xyz/api/analytics?endpoint=stats&start_date=2025-12-01&end_date=2025-12-31\'')">
        <i class="fas fa-copy"></i> Copy
    </button>
    <pre><code class="language-bash">curl -H 'X-API-KEY: sk_test_your_key_here' \
  'https://phantomtrack.xyz/api/analytics?endpoint=stats&start_date=2025-12-01&end_date=2025-12-31'</code></pre>
</div>

<div class="alert">
    <p><i class="fas fa-info-circle"></i> <strong>Note:</strong> When using <code>start_date</code> and <code>end_date</code>, both parameters must be provided together. The <code>period</code> parameter will be ignored.</p>
</div>
            </div>

            <h2 style="color: var(--text); font-size: 28px; margin: 60px 0 24px 0;">
                <i class="fas fa-server" style="color: var(--accent1);"></i> Available Endpoints
            </h2>

            <!-- STATS ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-chart-line"></i> Statistics</h2>
                <p>Get overall website statistics including unique visitors, pageviews, live visitors, and bounce rate.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=stats')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=stats</code></pre>
                </div>

                <h3>Additional Parameters</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>type</code></td>
                            <td>string</td>
                            <td>Specific stat: <code>unique</code>, <code>pageviews</code>, <code>live</code>, <code>bounce</code></td>
                        </tr>
                    </tbody>
                </table>

                <h3>Example Request</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'curl -H \'X-API-KEY: sk_test_your_key_here\' \\\n  \'https://phantomtrack.xyz/api/analytics?endpoint=stats&period=7d\'')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code class="language-bash">curl -H 'X-API-KEY: sk_test_your_key_here' \
  'https://phantomtrack.xyz/api/analytics?endpoint=stats&period=7d'</code></pre>
                </div>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": {
    "unique_visitors": {
      "label": "Unique Visitors",
      "value": 1247,
      "formatted": "1,247"
    },
    "pageviews": {
      "label": "Page Views",
      "value": 3891,
      "formatted": "3,891"
    },
    "live_visitors": {
      "label": "Live Visitors",
      "value": 12,
      "formatted": "12"
    },
    "bounce_rate": {
      "label": "Bounce Rate",
      "value": 42.3,
      "formatted": "42.3%"
    }
  }
}</code></pre>
                </div>
            </div>

            <!-- PAGES ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-file-alt"></i> Top Pages</h2>
                <p>Get the most visited pages on your website with view counts and average time spent.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=pages')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=pages</code></pre>
                </div>

                <h3>Additional Parameters</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>limit</code></td>
                            <td>integer</td>
                            <td>10</td>
                            <td>Number of results (max: 100)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Example Request</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'curl -H \'X-API-KEY: sk_test_your_key_here\' \\\n  \'https://phantomtrack.xyz/api/analytics?endpoint=pages&limit=5\'')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code class="language-bash">curl -H 'X-API-KEY: sk_test_your_key_here' \
  'https://phantomtrack.xyz/api/analytics?endpoint=pages&limit=5'</code></pre>
                </div>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": [
    {
      "path": "/home",
      "views": 523,
      "unique_visitors": 412,
      "avg_time_seconds": 145,
      "avg_time_formatted": "2m 25s"
    },
    {
      "path": "/products",
      "views": 389,
      "unique_visitors": 301,
      "avg_time_seconds": 210,
      "avg_time_formatted": "3m 30s"
    }
  ]
}</code></pre>
                </div>
            </div>

            <!-- REFERRERS ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-link"></i> Top Referrers</h2>
                <p>Get the top traffic sources and referrers to your website.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=referrers')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=referrers</code></pre>
                </div>

                <h3>Additional Parameters</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>limit</code></td>
                            <td>integer</td>
                            <td>10</td>
                            <td>Number of results (max: 100)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": [
    {
      "source": "google.com",
      "visits": 845,
      "unique_visitors": 678
    },
    {
      "source": "direct",
      "visits": 523,
      "unique_visitors": 445
    }
  ]
}</code></pre>
                </div>
            </div>

            <!-- COUNTRIES ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-globe"></i> Top Countries</h2>
                <p>Get visitor statistics by country with tier information.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=countries')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=countries</code></pre>
                </div>

                <h3>Additional Parameters</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>limit</code></td>
                            <td>integer</td>
                            <td>10</td>
                            <td>Number of results (max: 100)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": [
    {
      "country_code": "US",
      "tier": "tier1",
      "visits": 1245,
      "unique_visitors": 892
    },
    {
      "country_code": "GB",
      "tier": "tier1",
      "visits": 456,
      "unique_visitors": 334
    }
  ]
}</code></pre>
                </div>
            </div>

            <!-- DEVICES ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-mobile-alt"></i> Device Statistics</h2>
                <p>Get breakdown of visitors by device type (mobile, desktop, tablet).</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=devices')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=devices</code></pre>
                </div>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": [
    {
      "device": "mobile",
      "count": 1567,
      "percentage": 52.3
    },
    {
      "device": "desktop",
      "count": 1234,
      "percentage": 41.2
    },
    {
      "device": "tablet",
      "count": 195,
      "percentage": 6.5
    }
  ]
}</code></pre>
                </div>
            </div>

            <!-- BROWSERS ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-browser"></i> Browser Statistics</h2>
                <p>Get breakdown of visitors by browser type.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=browsers')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=browsers</code></pre>
                </div>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": [
    {
      "browser": "Chrome",
      "count": 1678,
      "percentage": 56.1
    },
    {
      "browser": "Safari",
      "count": 723,
      "percentage": 24.2
    }
  ]
}</code></pre>
                </div>
            </div>

            <!-- EVENTS ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-mouse-pointer"></i> Custom Events</h2>
                <p>Get statistics for tracked custom events.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=events')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=events</code></pre>
                </div>

                <h3>Additional Parameters</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>limit</code></td>
                            <td>integer</td>
                            <td>10</td>
                            <td>Number of results (max: 100)</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": [
    {
      "event_name": "button_click",
      "count": 567
    },
    {
      "event_name": "add_to_cart",
      "count": 234
    }
  ]
}</code></pre>
                </div>
            </div>

            <!-- USAGE ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-tachometer-alt"></i> API Usage</h2>
                <p>Get your current API usage and remaining quota for the month.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=usage')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=usage</code></pre>
                </div>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": {
    "current_usage": 2347,
    "limit": 10000,
    "remaining": 7653,
    "percentage_used": 23.5,
    "is_unlimited": false
  }
}</code></pre>
                </div>

                <div class="alert">
                    <p><i class="fas fa-info-circle"></i> For lifetime plans, <code>limit</code> will be <code>"unlimited"</code> and <code>is_unlimited</code> will be <code>true</code>.</p>
                </div>
            </div>

            <!-- ALL ENDPOINT -->
            <div class="content-card">
                <span class="endpoint-badge">GET</span>
                <h2><i class="fas fa-database"></i> All Data</h2>
                <p>Get all analytics data in a single request. Perfect for dashboard overviews.</p>

                <h3>Endpoint</h3>
                <div class="code-wrapper">
                    <button class="copy-button" onclick="copyCode(this, 'GET /api/analytics?endpoint=all')">
                        <i class="fas fa-copy"></i> Copy
                    </button>
                    <pre><code>GET /api/analytics?endpoint=all</code></pre>
                </div>

                <h3>Response</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": true,
  "data": {
    "statistics": { /* all stats */ },
    "top_pages": [ /* top 10 pages */ ],
    "top_referrers": [ /* top 10 referrers */ ],
    "top_countries": [ /* top 10 countries */ ],
    "devices": [ /* device breakdown */ ],
    "browsers": [ /* browser breakdown */ ],
    "recent_events": [ /* recent 10 events */ ],
    "usage": { /* usage data */ }
  },
  "ai_review": [
    {
      "title": "Traffic Growth",
      "message": "Your traffic increased by 23% this week",
      "type": "success"
    }
  ],
  "meta": {
    "website_id": "web_abc123",
    "tier": "tier1",
    "plan": "pro",
    "is_test_mode": false,
    "period": "30d",
    "date_range": {
      "start": "2026-01-01 00:00:00",
      "end": "2026-01-31 23:59:59"
    }
  },
  "rate_limit": {
    "current_usage": 2347,
    "limit": 30000,
    "remaining": 27653
  }
}</code></pre>
                </div>
            </div>

            <div class="content-card">
                <h2><i class="fas fa-exclamation-triangle"></i> Error Responses</h2>
                <p>All endpoints return consistent error responses when something goes wrong.</p>

                <h3>Common Error Codes</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Status Code</th>
                            <th>Error</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>401</code></td>
                            <td>Unauthorized</td>
                            <td>Missing or invalid API key</td>
                        </tr>
                        <tr>
                            <td><code>403</code></td>
                            <td>Forbidden</td>
                            <td>API key not found or invalid format</td>
                        </tr>
                        <tr>
                            <td><code>404</code></td>
                            <td>Not Found</td>
                            <td>Invalid endpoint specified</td>
                        </tr>
                        <tr>
                            <td><code>429</code></td>
                            <td>Too Many Requests</td>
                            <td>Rate limit exceeded</td>
                        </tr>
                        <tr>
                            <td><code>500</code></td>
                            <td>Internal Server Error</td>
                            <td>Server error occurred</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Error Response Format</h3>
                <div class="code-wrapper">
                    <pre><code class="language-json">{
  "success": false,
  "error": "Too Many Requests",
  "message": "Monthly API limit of 10000 requests reached for free plan.",
  "current_usage": 10000,
  "limit": 10000,
  "plan": "free",
  "upgrade_url": "https://phantomtrack.xyz/plan"
}</code></pre>
                </div>
            </div>

            <div class="content-card">
                <h2><i class="fas fa-shield-alt"></i> Rate Limits</h2>
                <p>PhantomTrack implements multiple layers of rate limiting to ensure fair usage and system stability.</p>

                <h3>Rate Limit Types</h3>
                <ul>
                    <li><strong>IP-based limit:</strong> Maximum 60 requests per minute per IP address</li>
                    <li><strong>Burst protection:</strong> Maximum 10 requests per second per website</li>
                    <li><strong>Monthly quota:</strong> Based on your subscription plan</li>
                </ul>

                <h3>Plan Limits</h3>
                <table class="params-table">
                    <thead>
                        <tr>
                            <th>Plan</th>
                            <th>Monthly Limit</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Free</td>
                            <td>10,000 requests</td>
                            <td>$0</td>
                        </tr>
                        <tr>
                            <td>Pro</td>
                            <td>30,000 requests</td>
                            <td>$3/month</td>
                        </tr>
                        <tr>
                            <td>Premium</td>
                            <td>60,000 requests</td>
                            <td>$5/month</td>
                        </tr>
                        <tr>
                            <td>Enterprise</td>
                            <td>100,000 requests</td>
                            <td>$8/month</td>
                        </tr>
                        <tr>
                            <td>Lifetime</td>
                            <td>Unlimited</td>
                            <td>$20 one-time</td>
                        </tr>
                    </tbody>
                </table>

                <div class="alert alert-warning">
                    <p><i class="fas fa-exclamation-triangle"></i> <strong>Test Keys:</strong> Test API keys (starting with <code>sk_test_</code>) have unlimited requests and bypass all rate limits. Use them for development only.</p>
                </div>
            </div>

            <div class="alert">
                <p><i class="fas fa-arrow-right"></i> <strong>Next Step:</strong> Learn about <a href="authentication.html" style="color: var(--accent1); font-weight: 600;">API authentication</a> and how to secure your API keys.</p>
            </div>

        </main>
    </div>

    <script src="../assets/js/toogle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
        }

        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const toggle = document.querySelector('.sidebar-toggle');
            
            if (window.innerWidth <= 968) {
                if (!sidebar.contains(event.target) && !toggle.contains(event.target)) {
                    sidebar.classList.remove('active');
                }
            }
        });

        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (window.innerWidth <= 968) {
                    document.getElementById('sidebar').classList.remove('active');
                }
            });
        });

        function copyCode(button, text) {
            const tempInput = document.createElement('textarea');
            tempInput.value = text;
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            
            const originalHTML = button.innerHTML;
            button.innerHTML = '<i class="fas fa-check"></i> Copied!';
            button.style.background = 'rgba(16, 185, 129, 0.2)';
            
            setTimeout(() => {
                button.innerHTML = originalHTML;
                button.style.background = 'rgba(255, 255, 255, 0.1)';
            }, 2000);
        }
    </script>
</body>
</html>